---
layout: post
title:  "SVN代码版本回滚"
date:   2016-05-23 16:35:00 +0800
categories: svn merge roll-back
---
以前使用windows系统时,碰到代码版本回滚,是用导出,然后覆盖完成的.

就是先把需要回滚的代码文件的版本导出,然后再复制到svn工作副本里,覆盖,然后提交来完成的.

感觉这个方法有些笨拙,后来使用命令行操作svn的时候,发现可以使用merge命令来完成版本回滚.

具体回滚如下:

1. 更新工作副本.svn up
2. 通过日志查找到需要回滚的版本号. svn log [后续可选参数]
3. 回滚到指定版本号.svn merge -r 最新版本号:欲回滚的版本号 [后续可选参数]
4. 提交. svn ci -m "log info"

以上是针对代码改动已经提交了的回滚.如果是未提交的回滚,就方便多了.

有两种方法:

a. 删掉修改文件,svn up

b. svn revert [-R] something

-R参数是 Recursive,递归的意思.当需要撤销修改的是目录时,就需要带上-R参数,否则只会针对目录变化.


